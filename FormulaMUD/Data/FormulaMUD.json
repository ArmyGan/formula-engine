{
  "archetypes": [
    {
      "name": "Room"
    },
    {
      "name": "Item"
    },
    {
      "name": "User",
      "bindings": [
        "User"
      ],
      "lists": [
        {
          "name": "Inventory",
          "contents": [ ]
        }
      ],
      "events": [
        {
          "name": "OnCreate",
          "actions": [
            {
              "action": "SetGoalState",
              "binding": "User",
              "property": "SendMessage",
              "value": "TEXT:USER_CONNECT_GREETING"
            },
            {
              "action": "SetGoalState",
              "binding": "User",
              "property": "SendMessage",
              "value": "TEXT:USER_CONNECT_GREETING_TWO"
            },
            {
              "action": "SetGoalState",
              "binding": "User",
              "property": "EnterRoom",
              "value": "TEXT:StartRoom"
            }
          ]
        },
        {
          "name": "EnterConnectedRoomFailed",
          "actions": [
            {
              "action": "SetGoalState",
              "binding": "User",
              "property": "SendMessage",
              "value": "TEXT:USER_TRAVEL_FAILED"
            }
          ]
        },
        {
          "name": "Poll",
          "actions": [
            {
              "action": "SetGoalState",
              "binding": "User",
              "property": "PollInput",
              "value": "0"
            }
          ]
        },
        {
          "name": "CMD_north",
          "actions": [
            {
              "action": "SetGoalState",
              "binding": "User",
              "property": "EnterConnectedRoom",
              "value": "TEXT:north"
            }
          ]
        },
        {
          "name": "CMD_south",
          "actions": [
            {
              "action": "SetGoalState",
              "binding": "User",
              "property": "EnterConnectedRoom",
              "value": "TEXT:south"
            }
          ]
        },
        {
          "name": "CMD_east",
          "actions": [
            {
              "action": "SetGoalState",
              "binding": "User",
              "property": "EnterConnectedRoom",
              "value": "TEXT:east"
            }
          ]
        },
        {
          "name": "CMD_west",
          "actions": [
            {
              "action": "SetGoalState",
              "binding": "User",
              "property": "EnterConnectedRoom",
              "value": "TEXT:west"
            }
          ]
        },
        {
          "name": "CMD_look",
          "actions": [
            {
              "action": "SetGoalState",
              "binding": "User",
              "property": "SendMessage",
              "value": "TEXT:USER_LOOK_ITEMS_HEADER"
            },
            {
              "action": "foreach",
              "scriptable": "CurrentRoom",
              "list": "Items",
              "actions": [
                {
                  "action": "SetGoalState",
                  "binding": "User",
                  "property": "SendMessage",
                  "value": "other:Title"
                }
              ]
            },
            {
              "action": "SetGoalState",
              "binding": "User",
              "property": "SendMessage",
              "value": "TEXT:USER_LOOK_ITEMS_FOOTER"
            }
          ]
        },
        {
          "name": "CMD_take",
          "actions": [
            {
              "action": "ListTransfer",
              "scriptable": "CurrentRoom",
              "list": "Items",
              "targetList": "Inventory",
              "condition": "1"
            }
          ]
        },
        {
          "name": "CMD_drop",
          "actions": [
            {
              "action": "ListTransfer",
              "list": "Inventory",
              "targetList": "Items",
              "target": "CurrentRoom",
              "condition": "1"
            }
          ]
        },
        {
          "name": "CMD_carrying",
          "actions": [
            {
              "action": "foreach",
              "list": "Inventory",
              "actions": [
                {
                  "action": "SetGoalState",
                  "binding": "User",
                  "property": "SendMessage",
                  "value": "other:Title"
                }
              ]
            }
          ]
        }
      ]
    }
  ],

  "scriptables": [
    {
      "name": "MasterControl",
      "lists": [
        {
          "name": "ConnectedUsers",
          "contents": [ ]
        }
      ],
      "events": [
        {
          "name": "OnUserConnect",
          "actions": [
            {
              "action": "CreateListMember",
              "archetype": "User",
              "list": "ConnectedUsers"
            }
          ]
        }
      ]
    },

    {
      "name": "ITEM_Doodad",
      "properties": {
        "Title": "TEXT:ITEM_DOODAD"
      }
    }
  ],

  "textbags": [
    {
      "name": "TEXT",
      "textlines": {
        "USER_CONNECT_GREETING": "Hello user! Welcome to FormulaMUD!",
        "USER_CONNECT_GREETING_TWO": "Use the help command to view all commands\r\n",

        "USER_TRAVEL_FAILED": "There are no exits in that direction.",

        "USER_LOOK_ITEMS_HEADER": "Items in this location:",
        "USER_LOOK_ITEMS_FOOTER": " ",

        "ITEM_DOODAD": "A useless doodad"
      }
    }
  ]
}
